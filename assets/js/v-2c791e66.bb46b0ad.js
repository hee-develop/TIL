(self.webpackChunk=self.webpackChunk||[]).push([[1902],{5130:(n,a,s)=>{"use strict";s.r(a),s.d(a,{data:()=>e});const e={key:"v-2c791e66",path:"/ko/javascript/finalization-registry.html",title:"FinalizationRegistry",lang:"ko-KR",frontmatter:{},excerpt:"",headers:[],filePathRelative:"ko/javascript/finalization-registry.md",git:{updatedTime:1629537148e3,contributors:[]}}},1361:(n,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>t});const e=(0,s(6252).uE)('<h1 id="finalizationregistry" tabindex="-1"><a class="header-anchor" href="#finalizationregistry" aria-hidden="true">#</a> FinalizationRegistry</h1><p><code>Written: 2021-08-21</code></p><p>ES2021에서 추가된 새로운 객체. 설정한 대상이 GC되었을 때 지정해 둔 콜백을 실행시킨다.</p><div class="language-tsx ext-tsx line-numbers-mode"><pre class="language-tsx"><code><span class="token keyword">const</span> registry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FinalizationRegistry</span><span class="token punctuation">(</span><span class="token parameter">heldValue</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nregistry<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span>targetObject<span class="token punctuation">,</span> <span class="token string">&#39;GC됨&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><code>register</code>메소드로 대상 object를 설정한다. 두 번째 인자로 <code>heldValue</code>를 받는데, 이는 콜백(finalizer)에 전달하는 값을 의미한다. 당연히 첫 번째 인자의 값을 전달해서는 안되며(콜백에서 참조하게 되기 때문) 그 외에는 아무런 값이든 넣을 수 있다.</p><p>WeakRef는 브라우저에서도 유용하게 쓸 수 있을 것 같은데, FinalizationRegistry는 GC를 강제할 수 없는 브라우저의 환경상 디버깅할 때만 유용하게 쓸 수 있을 것 같다..</p>',6),t={render:function(n,a){return e}}}}]);